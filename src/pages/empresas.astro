---
// src/pages/empresas.astro
import Layout from '../layouts/Layout.astro';
import serviciosData from '../data/servicios.json';

// Usamos el array completo de serviciosEmpresa del JSON
const serviciosEmpresa = serviciosData.serviciosEmpresa;
---
<Layout title="Soluciones para Empresas">

    <div class="bg-light border-bottom py-5">
        <div class="container text-center">
            <h1 class="display-4 fw-bold text-primary" data-aos="fade-down">Soluciones para Empresas</h1>
            <p class="lead col-md-8 mx-auto text-muted" data-aos="fade-up" data-aos-delay="200">
                Optimizamos la gestión del talento y brindamos soluciones ágiles para el crecimiento de tu organización.
            </p>
        </div>
    </div>
    
    <div class="container py-5"> 
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        
        {serviciosEmpresa.map((servicio, index) => (
            <div 
                class="col" 
                data-aos="fade-up" 
                data-aos-delay={index * 100} 
            >
                <div class="card h-100 shadow-sm border-0 hover-card overflow-hidden">
                    
                    <div class="img-container">
                        <img 
                            src={servicio.imagen} 
                            alt={servicio.nombre} 
                            class="card-img-top"
                            loading="lazy"
                        />
                    </div>

                    <div class="card-body d-flex flex-column p-4">
                        <h3 class="card-title h4 fw-bold text-primary mb-3">{servicio.nombre}</h3>
                        <p class="card-text flex-grow-1 text-secondary small">
                            {servicio.descripcion.length > 120 
                                ? servicio.descripcion.substring(0, 120) + '...' 
                                : servicio.descripcion}
                        </p>
                        
                        <a href={`/servicios/${servicio.slug}/`} class="btn btn-outline-primary w-100 mt-3 fw-bold">
                            Ver Detalles
                        </a>
                    </div>
                </div>
            </div>
        ))}

        </div>
    </div> 

    <style>
        .hover-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .hover-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 1rem 2rem rgba(0,0,0,.1)!important;
        }
        /* Estilo para recortar la imagen uniformemente */
        .img-container {
            height: 220px; /* Altura fija para la imagen */
            overflow: hidden;
            background-color: #e9ecef; /* Color de fondo mientras carga */
        }
        .card-img-top {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Esto hace que la imagen llene el espacio sin estirarse */
            transition: transform 0.5s ease;
        }
        /* Efecto zoom suave en la imagen al pasar el mouse */
        .hover-card:hover .card-img-top {
            transform: scale(1.05);
        }
    </style>
</Layout>